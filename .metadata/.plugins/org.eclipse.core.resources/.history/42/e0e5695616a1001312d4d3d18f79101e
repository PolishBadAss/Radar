package com.example.cameraUse;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

import com.example.aplikacja_testowa1.CameraActivity;
import android.annotation.SuppressLint;
import android.hardware.Camera;
import android.hardware.Camera.PictureCallback;
import android.util.Log;

@SuppressLint("SimpleDateFormat")
public class TakePhoto {

	
	public static final PictureCallback mPicture = new PictureCallback() {

	    @Override
	    public void onPictureTaken(final byte[] data, final Camera camera) 
	    {
        	camera.startPreview();
	        	new Thread(new Runnable() 
	        	{
	                public void run() 
	                {
	                   	FastBurst.byteArr[FastBurst.counter]=data;
	                   	FastBurst.counter++;
	    	           
	                }
	            }).start();
	            
	        	
	            // Taking pictures loop!!
	            if(CameraActivity.buttonPushedCounter==1)
	            {
	                takeAnother(camera,mPicture);	                           	
	            }
	            // Taking pictures loop!
	       
	       
	    }
	};
	
	public static void takeAnother(Camera camera,PictureCallback mPicture)
	{
		camera.takePicture(null, null, null, TakePhoto.mPicture);
	}

}
